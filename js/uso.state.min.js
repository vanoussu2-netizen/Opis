!function(t){"use strict";const{__:n,_x:e,_n:r,sprintf:i}=wp.i18n||{__:t=>t,_x:t=>t,_n:t=>t,sprintf:(...t)=>t.join(" ")},o=void 0!==t.USO_SETTINGS?t.USO_SETTINGS:{},c=o.options||{},S=o.assets||{},s=c.prices||{},u=c.materials||{},a=c.clinic||{},l=!!c.test_mode;t.USO=t.USO||{},t.USO.__=n,t.USO._x=e,t.USO._n=r,t.USO.sprintf=i,t.USO.SETTINGS=o,t.USO.OPT=c,t.USO.PRICES=s,t.USO.MATERIALS=u,t.USO.CLINIC=a,t.USO.ASSETS=S,t.USO.TEST_MODE=l,t.USO.util={money:function(t){try{const n=Number(t)||0;return isFinite(n)?n.toLocaleString("ru-RU",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0}):"0"}catch(n){return console.warn("[USO] Money format error:",n),String(Math.round(Number(t)||0))}},T:function(t,n){const e=c.texts&&c.texts[t];return e&&String(e).length?e:n||""},price:function(t,n){return void 0!==s[t]?Number(s[t]):n||0},throttle:function(t,n){let e,r;return function(){const i=Date.now(),o=this,c=arguments;!r||i-r>=n?(r=i,t.apply(o,c)):(clearTimeout(e),e=setTimeout(function(){r=Date.now(),t.apply(o,c)},n-(i-r)))}},cssEscape:function(t){return t=String(t||""),window.CSS&&"function"==typeof window.CSS.escape?window.CSS.escape(t):t.replace(/[\0-\x1F\x7F"\\#.:;$^*+?{}\[\]()|/]/g,"\\$$")},escapeHTML:function(t){const n=document.createElement("div");return n.textContent=String(t||""),n.innerHTML},escapeAttr:function(t){return String(t||"").replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},sanitizeURL:function(t){try{const n=new URL(t,window.location.origin);if("http:"===n.protocol||"https:"===n.protocol||"data:"===n.protocol)return n.toString()}catch(n){console.warn("[USO] Invalid URL:",t)}return""},htmlToText:function(t){if(!t)return"";const n=document.createElement("div");return n.innerHTML=String(t),n.textContent||n.innerText||""},maskPhone:function(t){const n=String(t||"").replace(/\D/g,"");return n.length<=6?"***"+n:"***"+n.slice(-6)}}}(window);