#uso-calc-app{border:1px solid #e5e5e5;padding:16px;border-radius:8px;background:#fff;color:#1f2328}#uso-calc-app h3{margin-top:0}.uso-mode-selector{display:flex;align-items:center;gap:8px}.uso-mode-selector .mode-buttons{display:inline-flex;border:1px solid #ccc;border-radius:6px;overflow:hidden}.uso-mode-selector .mode-btn{padding:6px 16px;border:none;background:#fff;cursor:pointer;font-size:14px;transition:all .2s ease;border-right:1px solid #ccc}.uso-mode-selector .mode-btn:last-child{border-right:none}.uso-mode-selector .mode-btn:hover{background:#f0f0f0}.uso-mode-selector .mode-btn.active{background:#2271b1;color:#fff;font-weight:500}.variants{display:flex;gap:8px;align-items:center;flex-wrap:wrap}.variants .variants-bar{display:flex;gap:6px;flex-wrap:wrap}.variants .tab{padding:6px 12px;border:1px solid #ccc;border-radius:6px;cursor:pointer;background:#f8f8f8;position:relative;display:flex;align-items:center;gap:8px;transition:all .2s ease;min-height:32px}.variants .tab:hover{background:#e8e8e8;border-color:#999}.variants .tab.active{background:#2271b1;color:#fff;border-color:#1b5f99}.variants .tab.active:hover{background:#1b5f99}.variants .tab .tab-label{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;user-select:none}.variants .tab .tab-close{display:inline-flex;align-items:center;justify-content:center;width:18px;height:18px;border-radius:3px;margin-left:4px;font-size:14px;line-height:1;opacity:.6;transition:all .15s ease;flex-shrink:0}.variants .tab .tab-close:hover{opacity:1;background:rgba(0,0,0,.1)}.variants .tab.active .tab-close:hover{background:rgba(255,255,255,.2)}.variants .variants-bar[data-tab-count="1"] .tab .tab-close{display:none}.uso-step{display:grid;gap:8px;grid-template-columns:1fr 1fr 1fr}@media (max-width:720px){.uso-step{grid-template-columns:1fr}}.uso-canvas-wrap{margin:12px 0;position:relative}#uso-canvas{width:100%;border:1px dashed #ccc;background:#fdfdfd;touch-action:none}.hint{font-size:12px;color:#666;margin-top:6px}.img-tools{display:flex;gap:8px;flex-wrap:wrap;align-items:center;margin-bottom:8px;background:0 0!important}.img-tools .spacer{flex:1 1 auto;min-width:8px}.primary{background:#2271b1;color:#fff;border:1px solid #1b5f99}.danger-btn{border:1px solid #ccc;padding:6px 10px;background:#fff;border-radius:4px;cursor:pointer}.danger-btn.active,.danger-btn:focus{background:#c0392b;color:#fff;border-color:#962d22}.uso-opts{display:grid;gap:12px}.uso-section{border:1px solid #e5e5e5;border-radius:8px;padding:10px}.uso-section h4{margin:0 0 6px}.preinfo{font-size:13px;color:#444;margin-bottom:6px}.uso-export{margin:8px 0;background:0 0!important}.palette.unified{display:flex;gap:6px;align-items:center;flex-wrap:wrap;background:rgba(13,71,161,.08);border-radius:8px;padding:6px 8px}#mark-toggle,#uso-del,#uso-exit-fs,#uso-undo{display:inline-flex;align-items:center;justify-content:center;width:36px;height:36px;border:1px solid #ccc;background:#fff!important;border-radius:8px;cursor:pointer;font-size:0;line-height:0;color:#1f2328!important}#mark-toggle:hover,#uso-del:hover,#uso-exit-fs:hover,#uso-undo:hover{background:#f7f7f7!important}#mark-toggle:active,#uso-del:active,#uso-exit-fs:active,#uso-undo:active{background:#efefef!important}#mark-toggle::before{content:'✎';font-size:16px;line-height:1;font-weight:700}#uso-undo::before{content:'↶';font-size:18px;line-height:1}#uso-exit-fs::before{content:'⤢';font-size:16px;line-height:1}#uso-del::before{content:'⌦';font-size:16px;line-height:1}#uso-del[disabled],#uso-undo[disabled]{opacity:.4;cursor:not-allowed}.shape-btn{border:1px solid #ccc;padding:6px 10px;background:#fff;cursor:pointer;border-radius:4px;font-size:16px;min-width:36px;height:36px;display:inline-flex;align-items:center;justify-content:center}.palette .shape-btn{color:#1f2328!important}.shape-btn.active{background:#2271b1;color:#1f2328!important;border-color:#1b5f99}.shape-btn:disabled{opacity:.5;cursor:not-allowed}.palette .row.colors{display:flex;gap:6px;flex-wrap:wrap;align-items:center}.colors .color-btn{width:24px;height:24px;border-radius:50%;border:2px solid #fff;box-shadow:0 0 0 1px #aaa;outline:0;cursor:pointer}.colors .color-btn[data-color=blue]{background:#0d47a1!important}.colors .color-btn[data-color=ltblue]{background:#8fd6ff!important}.colors .color-btn[data-color=white]{background:#fff!important}.colors .color-btn[data-color=violet]{background:#8d59b6!important}.colors .color-btn[data-color=black]{background:#000!important}.colors .color-btn[data-color=yellow]{background:#f1c40f!important}.colors .color-btn[data-color=green]{background:#27ae60!important}.colors .color-btn[data-color=red]{background:#e74c3c!important}.colors .color-btn.active{box-shadow:0 0 0 2px #2271b1}.panel-controls{display:flex;gap:8px;align-items:center;flex-wrap:wrap;margin-left:auto}.mini-label{font-size:12px;color:#555;margin-right:4px}.size-controls{display:flex;gap:10px;align-items:center}.size-controls input[type=range]{width:110px;height:4px;accent-color:#2271b1}.uso-grid4{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:8px}.uso-grid4 .card{border:1px solid #ddd;padding:8px;border-radius:6px;background:#fff;color:#1f2328}#uso-calc-app details,#uso-calc-app summary{background:0 0!important;color:#1f2328}details.uso-actions-collapsed{border:1px solid rgba(141,89,182,.35);border-radius:6px;padding:6px 8px;background:rgba(141,89,182,.08)!important}details.uso-actions-collapsed summary{color:#8d59b6;font-weight:600}#uso-calc-app a{color:#2271b1;text-decoration:none}#uso-calc-app a:hover{text-decoration:underline}#uso-calc-app .button,#uso-calc-app .import-label,#uso-calc-app button{color:#1f2328;text-shadow:none;opacity:1}#uso-calc-app .primary,#uso-calc-app .shape-btn.active{background:#2271b1!important;border-color:#1b5f99!important}.uso-workspace{display:block}@media (min-width:1024px){.uso-workspace{display:block}.uso-export{position:static;margin:12px 0 0}.palette.unified{width:100%;justify-content:flex-start}}@media (max-width:1023.98px){#uso-palette-panel{position:static!important;transform:none!important;width:100%!important;border-left:0!important;z-index:auto!important;padding:0}}#uso-canvas-container:-webkit-full-screen,#uso-canvas-container:fullscreen{width:100vw!important;height:100vh!important;max-width:100vw!important;max-height:100vh!important;overflow:auto!important}body.uso-fs-active{overflow:hidden}body.uso-fs-active #uso-canvas-container{position:fixed!important;inset:0!important;width:100vw!important;height:100dvh!important;margin:0!important;background:#fff;z-index:9999;border-radius:0;overflow:auto!important}#uso-canvas-container:-webkit-full-screen~.uso-export,#uso-canvas-container:fullscreen~.uso-export{position:fixed;top:8px;left:8px;background:0 0!important;border:1px solid rgba(0,0,0,.1);border-radius:8px;padding:6px 8px;z-index:2147483647!important}#uso-canvas-container:-webkit-full-screen~.uso-export #uso-exit-fs,#uso-canvas-container:fullscreen~.uso-export #uso-exit-fs{display:inline-flex!important}#uso-canvas-container:-webkit-full-screen #uso-palette-panel,#uso-canvas-container:fullscreen #uso-palette-panel{position:fixed!important;top:8px;left:8px;transform:none!important;background:0 0!important;border:1px solid rgba(0,0,0,.1);border-radius:8px;padding:6px 8px;z-index:2147483647!important}#uso-canvas-container:-webkit-full-screen #uso-palette-panel #uso-exit-fs,#uso-canvas-container:fullscreen #uso-palette-panel #uso-exit-fs{display:inline-flex!important}@media (orientation:portrait){#uso-canvas-container:-webkit-full-screen #uso-palette-panel,#uso-canvas-container:-webkit-full-screen~.uso-export,#uso-canvas-container:fullscreen #uso-palette-panel,#uso-canvas-container:fullscreen~.uso-export{left:calc(8px + env(safe-area-inset-left));right:calc(8px + env(safe-area-inset-right));bottom:calc(8px + env(safe-area-inset-bottom));top:auto}}@media (orientation:landscape){#uso-canvas-container:-webkit-full-screen #uso-palette-panel,#uso-canvas-container:-webkit-full-screen~.uso-export,#uso-canvas-container:fullscreen #uso-palette-panel,#uso-canvas-container:fullscreen~.uso-export{left:50%;transform:translateX(-50%)!important;right:auto;bottom:calc(8px + env(safe-area-inset-bottom));top:auto;width:min(100vw - 24px,980px);border-radius:10px;padding:6px 8px}.colors .color-btn{width:18px;height:18px}.shape-btn{min-width:30px;height:30px;font-size:14px}#mark-toggle,#uso-del,#uso-exit-fs,#uso-undo{width:30px;height:30px}.size-controls input[type=range]{width:90px}}@media (max-width:720px) and (orientation:portrait){.uso-export{position:static!important;background:0 0!important;margin-top:8px;z-index:auto}.colors .color-btn{width:22px;height:22px}.shape-btn{min-width:34px;height:34px}#mark-toggle,#uso-del,#uso-exit-fs,#uso-undo{width:34px;height:34px}.size-controls input[type=range]{width:100px}}@media (max-width:920px) and (orientation:landscape){.colors .color-btn{width:20px;height:20px}.shape-btn{min-width:32px;height:32px}#uso-del,#uso-exit-fs,#uso-undo{width:32px;height:32px}.size-controls input[type=range]{width:95px}}#uso-remov-ui{display:none!important}#uso-prost-matrix.compact table{font-size:11px}#uso-prost-matrix.compact td,#uso-prost-matrix.compact th{padding:3px 5px}#uso-prost-matrix.compact .hint{font-size:10.5px}#uso-canvas-container{resize:both;overflow:auto;min-width:320px;min-height:240px}.crop-controls{display:flex;gap:8px;align-items:center;flex-wrap:wrap}.crop-controls button,.crop-controls select{padding:6px 8px}#uso-work-mode{padding:8px 12px;border:1px solid #ccc;border-radius:4px;font-size:14px;background:#fff;cursor:pointer;min-width:200px}#uso-work-mode:hover{border-color:#2271b1}#uso-work-mode:focus{outline:0;border-color:#2271b1;box-shadow:0 0 0 3px rgba(34,113,177,.1)}#uso-mode-info{margin-bottom:12px}#uso-mode-info>div{font-size:13px;line-height:1.5}